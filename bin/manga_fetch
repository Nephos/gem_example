#!/usr/bin/env ruby

$verbose = false if ENV["VERBOSE"] == "false"
$debug = true if ENV["DEBUG"] == "true"

if $debug
  require_relative "../lib/manga_fetch"
else
  require "manga_fetch"
end

m = ARGV[1].match(/\A(\d+)\.\.(\d+)\Z/)
nums = m[1].to_i .. m[2].to_i

list = MangaFetch.fetch(name: ARGV[0], num: nums).flatten.sort

puts
puts list
list.each{|image| MangaFetch.download_image(src: image)}
